{"version":3,"sources":["spotify.js","Login.js","SidebarOption.js","DataLayer.js","Sidebar.js","TrackSearchResult.js","FooterPlayer.js","Header.js","SongRow.js","Body.js","Player.js","App.js","reducer.js","reportWebVitals.js","index.js"],"names":["getTokenFromUrl","window","location","hash","substring","split","reduce","initial","item","parts","decodeURIComponent","loginUrl","join","Login","className","src","alt","href","SidebarOption","title","Icon","DataLayerContext","createContext","DataLayer","initialState","reducer","children","Provider","value","useReducer","useDataLayerValue","useContext","Sidebar","playlists","HomeIcon","SearchIcon","LibraryMusicIcon","items","map","playlist","name","TrackSearchResult","track","chooseTrack","style","cursor","onClick","albumUrl","artist","spotify","SpotifyWebApi","clientId","Player","trackUri","useState","play","setPlay","token","user","dispatch","useEffect","_token","access_token","type","setAccessToken","styles","activeColor","bgColor","color","loaderColor","sliderColor","trackArtistColor","trackNameColor","showSaveIcon","callback","state","isPlaying","previous","next","uris","spotifyApi","Header","setPlayingTrack","setSearch","setLyrics","search","searchResults","setSearchResults","playingTrack","lyrics","console","log","cancel","searchTracks","then","res","body","tracks","smallestAlbumImage","album","images","smallest","image","height","artists","uri","url","placeholder","onChange","e","target","Avatar","display_name","overflowY","length","whiteSpace","id","SongRow","Body","discover_weekly","description","PlayCircleFilled","Favorite","fontSize","MoreHoriz","props","App","img_src","songs","currentSongIndex","setCurrentSongIndex","nextSongIndex","setNextSongIndex","getMe","getUserPlaylists","getPlaylist","response","action","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","playing","document","getElementById"],"mappings":"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","file":"static/js/main.48386bc1.chunk.js","sourcesContent":["//https://developer.spotify.com/documentation/web-playback-sdk/quick-start/#\r\nexport const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\nconst redirectUri = \"http://localhost:3000/\";\r\nconst clientId = \"7feed2ffa419451b853bd5dff8492ecb\";\r\n\r\nconst scopes = [\r\n  \"streaming\",\r\n  \"user-read-email\",\r\n  \"user-read-private\",\r\n  \"user-library-read\",\r\n  \"user-library-modify\",\r\n  \"user-read-playback-state\",\r\n  \"user-modify-playback-state\",\r\n  // \"user-read-currently-playing\",\r\n  // \"user-read-recently-played\",\r\n  // \"user-read-playback-state\",\r\n  // \"user-top-read\",\r\n  // \"user-modify-playback-state\",\r\n];\r\nexport const getTokenFromUrl = () => {\r\n  return window.location.hash\r\n    .substring(1)\r\n    .split(\"&\")\r\n    .reduce((initial, item) => {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n\r\n      return initial;\r\n    }, {});\r\n};\r\n\r\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n  \"%20\"\r\n)}&response_type=token&show_dialog=true`;\r\n","import React from \"react\";\r\nimport \"./Login.css\";\r\nimport { loginUrl } from \"./spotify\";\r\nfunction Login() {\r\n  return (\r\n    <div className=\"login\">\r\n      <img\r\n        src=\"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\"\r\n        alt=\"\"\r\n      />\r\n      {/* Login with Spotify button */}\r\n      <a href={loginUrl}>LOGIN WITH SPOTIFY</a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport \"./SidebarOption.css\";\r\nfunction SidebarOption({ title, Icon }) {\r\n  return (\r\n    <div className=\"sidebarOption\">\r\n      {Icon && <Icon className=\"sidebarOption__icon\" />}\r\n      {Icon ? <h4>{title}</h4> : <p>{title}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SidebarOption;\r\n","import React, { createContext, useContext, useReducer } from \"react\";\r\nexport const DataLayerContext = createContext();\r\nexport const DataLayer = ({ initialState, reducer, children }) => (\r\n  <DataLayerContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </DataLayerContext.Provider>\r\n);\r\n\r\nexport const useDataLayerValue = () => useContext(DataLayerContext);\r\n","import React from \"react\";\r\nimport \"./Sidebar.css\";\r\nimport SidebarOption from \"./SidebarOption\";\r\n\r\nimport HomeIcon from \"@mui/icons-material/Home\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport LibraryMusicIcon from \"@mui/icons-material/LibraryMusic\";\r\n\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\n\r\nfunction Sidebar() {\r\n  const [{ playlists }, dispatch] = useDataLayerValue();\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <img\r\n        className=\"sidebar__logo\"\r\n        src=\"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\"\r\n        alt=\"\"\r\n      />\r\n      <SidebarOption Icon={HomeIcon} title=\"Home\" />\r\n      <SidebarOption Icon={SearchIcon} title=\"Search\" />\r\n      <SidebarOption Icon={LibraryMusicIcon} title=\"Your Library\" />\r\n\r\n      <br />\r\n      <strong className=\"sidebar__title\">PLAYLISTS</strong>\r\n      <hr />\r\n\r\n      {playlists?.items?.map((playlist) => (\r\n        <SidebarOption title={playlist.name} />\r\n      ))}\r\n\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","import React from \"react\";\r\nimport \"./TrackSearchResult.css\";\r\n\r\nexport default function TrackSearchResult({ track, chooseTrack }) {\r\n  function handlePlay() {\r\n    chooseTrack(track);\r\n  }\r\n  return (\r\n    <div\r\n      className=\"trackSearchResult\"\r\n      style={{ cursor: \"pointer\" }}\r\n      onClick={handlePlay}\r\n    >\r\n      <img\r\n        className=\"trackSearchResult__album\"\r\n        src={track.albumUrl}\r\n        alt=\"\"\r\n      />\r\n      <div className=\"trackSearchResult__info\">\r\n        <h1>{track.title}</h1>\r\n        <p>{track.artist}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport SpotifyPlayer from \"react-spotify-web-playback\";\r\nimport SpotifyWebApi from \"spotify-web-api-node\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\nimport { getTokenFromUrl } from \"./spotify\";\r\nimport { WebPlaybackTrack } from \"react-spotify-web-playback\";\r\n\r\nconst spotifyApi = new SpotifyWebApi({\r\n  clientId: \"7feed2ffa419451b853bd5dff8492ecb\",\r\n});\r\nconst spotify = new SpotifyWebApi();\r\n\r\nexport default function Player({ trackUri }) {\r\n  const [play, setPlay] = useState(false);\r\n  const [prev, setPrev] = useState(false);\r\n  const [{ user, token }, dispatch] = useDataLayerValue();\r\n\r\n  useEffect(() => {\r\n    const hash = getTokenFromUrl();\r\n    window.location.hash = \"\";\r\n    const _token = hash.access_token;\r\n\r\n    if (_token) {\r\n      dispatch({\r\n        type: \"SET_TOKEN\",\r\n        token: _token,\r\n      });\r\n\r\n      spotify.setAccessToken(_token);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => setPlay(true), [trackUri]);\r\n\r\n  if (!token) return null;\r\n  return (\r\n    <SpotifyPlayer\r\n      styles={{\r\n        activeColor: \"#fff\",\r\n        bgColor: \"#040404\",\r\n        color: \"#fff\",\r\n        loaderColor: \"#fff\",\r\n        sliderColor: \"#1ed15e\",\r\n        trackArtistColor: \"#ccc\",\r\n        trackNameColor: \"#fff\",\r\n      }}\r\n      token={token}\r\n      showSaveIcon\r\n      callback={(state) => {\r\n        if (!state.isPlaying) setPlay(false);\r\n      }}\r\n      previous\r\n      play={play}\r\n      next\r\n      uris={trackUri ? [trackUri] : []}\r\n    />\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Input } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport \"./Header.css\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport { Avatar } from \"@mui/material\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\nimport { Container, Form } from \"react-bootstrap\";\r\nimport SpotifyWebApi from \"spotify-web-api-node\";\r\nimport { getTokenFromUrl } from \"./spotify\";\r\nimport TrackSearchResult from \"./TrackSearchResult\";\r\nimport FooterPlayer from \"./FooterPlayer\";\r\n\r\nconst spotifyApi = new SpotifyWebApi({\r\n  clientId: \"7feed2ffa419451b853bd5dff8492ecb\",\r\n});\r\nconst spotify = new SpotifyWebApi();\r\n\r\nfunction Header() {\r\n  const [{ user, token }, dispatch] = useDataLayerValue();\r\n\r\n  function chooseTrack(track) {\r\n    setPlayingTrack(track);\r\n    setSearch(\"\");\r\n    setLyrics(\"\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    const hash = getTokenFromUrl();\r\n    window.location.hash = \"\";\r\n    const _token = hash.access_token;\r\n\r\n    if (_token) {\r\n      dispatch({\r\n        type: \"SET_TOKEN\",\r\n        token: _token,\r\n      });\r\n\r\n      spotify.setAccessToken(_token);\r\n    }\r\n  }, []);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [playingTrack, setPlayingTrack] = useState();\r\n  const [lyrics, setLyrics] = useState(\"\");\r\n  console.log(searchResults);\r\n\r\n  useEffect(() => {\r\n    if (!token) return;\r\n    spotifyApi.setAccessToken(token);\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    if (!search) return setSearchResults([]);\r\n    if (!token) return;\r\n    let cancel = false;\r\n    spotifyApi.searchTracks(search).then((res) => {\r\n      console.log(res.body.track);\r\n      if (cancel) return;\r\n      setSearchResults(\r\n        res.body.tracks.items.map((track) => {\r\n          const smallestAlbumImage = track.album.images.reduce(\r\n            (smallest, image) => {\r\n              if (image.height < smallest.height) return image;\r\n              return smallest;\r\n            },\r\n            track.album.images[0]\r\n          );\r\n\r\n          return {\r\n            artist: track.artists[0].name,\r\n            title: track.name,\r\n            uri: track.uri,\r\n            albumUrl: smallestAlbumImage.url,\r\n          };\r\n        })\r\n      );\r\n    });\r\n    return () => (cancel = true);\r\n  }, [search, token]);\r\n\r\n  return (\r\n    <div className=\"header__search\">\r\n      <div className=\"header\">\r\n        <div className=\"header__left\">\r\n          <SearchIcon />\r\n          <input\r\n            type=\"search\"\r\n            placeholder=\"Search for Artists, Songs, or Podcasts \"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"header__right\">\r\n          <Avatar src={user?.images[0]?.url} alt={user?.display_name} />\r\n          <h4>{user?.display_name}</h4>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex-grow-1 my-2\" style={{ overflowY: \"auto\" }}>\r\n        {searchResults.map((track) => (\r\n          <TrackSearchResult\r\n            track={track}\r\n            key={track.uri}\r\n            chooseTrack={chooseTrack}\r\n          />\r\n        ))}\r\n        {searchResults.length === 0 && (\r\n          <div className=\"text-center\" style={{ whiteSpace: \"pre\" }}>\r\n            {lyrics}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div id=\"fadeshow45\" className=\"header__player\">\r\n        <FooterPlayer trackUri={playingTrack?.uri} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./SongRow.css\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nfunction SongRow({ track, chooseTrack }) {\r\n  \r\n  function handlePlay() {\r\n    chooseTrack(track);\r\n  }\r\n\r\n  return (\r\n    <div className=\"songRow\" style={{ cursor: \"pointer\" }} onClick={handlePlay}>\r\n      <img className=\"songRow__album\" src={track.album.images[0].url} alt=\"\" />\r\n      <div className=\"songRow__info\">\r\n        <h1>{track.name}</h1>\r\n        <p>\r\n          {track.artists.map((artist) => artist.name).join(\", \")}\r\n          &nbsp;\r\n          {track.album.name}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SongRow;\r\n","import React from \"react\";\r\nimport \"./Body.css\";\r\nimport Header from \"./Header\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\nimport { useState, useEffect } from \"react\";\r\nimport FooterPlayer from \"./FooterPlayer\";\r\nimport {\r\n  Favorite,\r\n  More,\r\n  MoreHoriz,\r\n  PlayCircleFilled,\r\n} from \"@mui/icons-material\";\r\nimport SongRow from \"./SongRow\";\r\nimport Footer from \"./Footer\";\r\n\r\nfunction Body({ spotify }) {\r\n  const [{ discover_weekly }, dispatch] = useDataLayerValue();\r\n  const [search, setSearch] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [playingTrack, setPlayingTrack] = useState();\r\n  const [lyrics, setLyrics] = useState(\"\");\r\n\r\n  function chooseTrack(track) {\r\n    setPlayingTrack(track);\r\n    setSearch(\"\");\r\n    setLyrics(\"\");\r\n  }\r\n\r\n  // const trackUri = playingTrack?.uri;\r\n\r\n  // FooterPlayer(trackUri);\r\n\r\n  return (\r\n    <div className=\"body\">\r\n      <Header spotify={spotify} />\r\n      <div id=\"fadeshow12\" className=\"body__info\">\r\n        <img id=\"fadeshow1\" src={discover_weekly?.images[0].url} alt=\"\" />\r\n        <div className=\"body__infoText\">\r\n          <strong>PLAYLIST</strong>\r\n          <h2>Discover Weekly</h2>\r\n          <p>{discover_weekly?.description}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"body__songs\">\r\n        <div className=\"body__icons\">\r\n          <PlayCircleFilled className=\"body__shuffle\" />\r\n          <Favorite fontSize=\"large\" />\r\n          <MoreHoriz />\r\n        </div>\r\n\r\n        {discover_weekly?.tracks.items.map((item) => (\r\n          <SongRow\r\n          track={item.track}\r\n          key={item.track.uri}\r\n          chooseTrack={chooseTrack}\r\n          />\r\n          ))}\r\n      </div>\r\n          {playingTrack ? (\r\n            <div className=\"header__player\">\r\n              <FooterPlayer trackUri={playingTrack?.uri} />\r\n            </div>\r\n          ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Body;\r\n","import React from \"react\";\r\nimport \"./Player.css\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport Body from \"./Body\";\r\nimport Footer from \"./Footer\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { shuffle } from \"lodash\";\r\n\r\nfunction Player(props, { spotify }) {\r\n  // const audioEl = useRef(null);\r\n  // const [isPlaying, setIsPlaying] = useState(false);\r\n  // const duration = audioEl.duration;\r\n  // const currentTime = audioEl.currentTime;\r\n  // const percentage = currentTime / duration;\r\n  // const [volume, setVolume] = React.useState();\r\n  // useEffect(() => {\r\n  //   if (isPlaying) {\r\n  //     audioEl.current.play();\r\n  //     setVolume(50);\r\n  //   } else {\r\n  //     audioEl.current.pause();\r\n  //   }\r\n  // });\r\n\r\n  // const SkipSong = (forwards = true) => {\r\n  //   if (forwards) {\r\n  //     props.setCurrentSongIndex(() => {\r\n  //       let temp = props.currentSongIndex;\r\n  //       temp++;\r\n\r\n  //       if (temp > props.songs.length - 1) {\r\n  //         temp = 0;\r\n  //       }\r\n\r\n  //       return temp;\r\n  //     });\r\n  //   } else {\r\n  //     props.setCurrentSongIndex(() => {\r\n  //       let temp = props.currentSongIndex;\r\n  //       temp--;\r\n\r\n  //       if (temp < 0) {\r\n  //         temp = props.songs.length - 1;\r\n  //       }\r\n\r\n  //       return temp;\r\n  //     });\r\n  //   }\r\n  // };\r\n\r\n  // const ShuffleSong = (forwards = true) => {\r\n  //   if (forwards) {\r\n  //     props.setCurrentSongIndex(() => {\r\n  //       let temp = props.currentSongIndex;\r\n  //       temp += Math.floor(Math.random() * props.songs.length);\r\n\r\n  //       if (temp > props.songs.length - 1) {\r\n  //         temp = 0;\r\n  //         temp += Math.floor(Math.random() * props.songs.length);\r\n  //       }\r\n\r\n  //       if (temp > props.songs.length - 1) {\r\n  //         temp = 0;\r\n  //       }\r\n\r\n  //       return temp;\r\n  //     });\r\n  //   }\r\n  // };\r\n\r\n  // const RepeatSong = (forwards = true) => {\r\n  //   if (forwards) {\r\n  //     props.setCurrentSongIndex(() => {\r\n  //       let temp = props.currentSongIndex;\r\n  //       temp--;\r\n  //       return temp;\r\n  //     });\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    // <div className=\"player\">\r\n      <div className=\"player_body\">\r\n        <div id=\"fadeshow1\">\r\n          <Sidebar />\r\n        </div>\r\n        <Body spotify={spotify} />\r\n      </div>\r\n    //   {/* <Footer\r\n    //     isPlaying={isPlaying}\r\n    //     setIsPlaying={setIsPlaying}\r\n    //     SkipSong={SkipSong}\r\n    //     ShuffleSong={ShuffleSong}\r\n    //     song={props.songs[props.currentSongIndex]}\r\n    //     spotify={spotify}\r\n    //     RepeatSong={RepeatSong}\r\n    //     percentage={percentage}\r\n    //   /> */}\r\n    //   {/* <audio\r\n    //     className=\"c-player--audio\"\r\n    //     src={props.songs[props.currentSongIndex].src}\r\n    //     ref={audioEl}\r\n    //     footer\r\n    //   ></audio> */}\r\n    // {/* </div> */}\r\n  );\r\n}\r\n\r\nexport default Player;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\nimport Login from \"./Login\";\r\nimport { getTokenFromUrl } from \"./spotify\";\r\nimport SpotifyWebApi from \"spotify-web-api-js\";\r\nimport Player from \"./Player\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\n\r\nconst spotify = new SpotifyWebApi();\r\n\r\nfunction App() {\r\n  const [{ user, token }, dispatch] = useDataLayerValue();\r\n  const [songs] = useState([\r\n    {\r\n      title: \"Sketchers\",\r\n      artist: \"Dripreport & Carbine\",\r\n      img_src:\r\n        \"https://a10.gaanacdn.com/images/albums/13/3089713/crop_480x480_3089713.jpg\",\r\n      src: \"https://paglasongs.com/files/download/type/128/id/838\",\r\n    },\r\n    {\r\n      title: \"Build a Bitch\",\r\n      artist: \"Bella Poarch\",\r\n      img_src:\r\n        \"https://is4-ssl.mzstatic.com/image/thumb/Music125/v4/24/39/dc/2439dc3f-389e-3412-148f-7afb2c4296e9/054391922588.jpg/500x500bb.webp\",\r\n      src: \"https://www.pagolworld.in/files/download/id/6511\",\r\n    },\r\n    {\r\n      title: \"Levitating\",\r\n      artist: \"Dua Lipa\",\r\n      img_src:\r\n        \"https://upload.wikimedia.org/wikipedia/en/f/f5/Dua_Lipa_-_Future_Nostalgia_%28Official_Album_Cover%29.png\",\r\n      src: \"https://mymp3bhojpuri.in/files/download/type/128/id/17928\",\r\n    },\r\n    {\r\n      title: \"Indian Summer\",\r\n      artist: \"Shuba\",\r\n      img_src:\r\n        \"https://is1-ssl.mzstatic.com/image/thumb/Music115/v4/21/bd/c2/21bdc287-6c9e-abb7-0030-958cbcd16e6a/196193418378.png/400x400cc.jpg\",\r\n      src: \"https://mp3.lyricstuff.com/wp-content/uploads/2021/07/Shuba.mp3\",\r\n    },\r\n    {\r\n      title: \"Save Your Tears\",\r\n      artist: \"The Weeknd\",\r\n      img_src:\r\n        \"https://images.hungama.com/c/1/7c2/e71/52624052/52624052_300x300.jpg\",\r\n      src: \"https://lekkiloaded.com/wp-content/uploads/2021/02/The_Weekend_-_Save_Your_Tears-(LekkiLoaded.com).mp3\",\r\n    },\r\n    {\r\n      title: \"Kiss Me More\",\r\n      artist: \"Doja Cat\",\r\n      img_src: \"https://fun2desi.me/siteuploads/thumb/sft109/54315_5.jpg\",\r\n      src: \"https://fun2desi.me/files/download/id/54315/type/128\",\r\n    },\r\n    {\r\n      title: \"Dinero\",\r\n      artist: \"Trinidad Cardona\",\r\n      img_src:\r\n        \"https://i2.wp.com/www1.naijaforbe.com/wp-content/uploads/2021/09/1-2107.jpg?w=662&ssl=1\",\r\n      src: \"https://pagalaworld.in/files/download/type/128/id/30293\",\r\n    },\r\n    {\r\n      title: \"Hold On\",\r\n      artist: \"Justin Bieber\",\r\n      img_src:\r\n        \"https://i.scdn.co/image/ab67616d0000b273e6f407c7f3a0ec98845e4431\",\r\n      src: \"https://pagalworld.com.se/files/download/type/128/id/1383\",\r\n    },\r\n    {\r\n      title: \"Summer of Love (Shawn Mendes & Tainy)\",\r\n      artist: \"Shawn Mendes\",\r\n      img_src:\r\n        \"https://i.scdn.co/image/ab67616d0000b273a111c87c210cc9bff93948bd\",\r\n      src: \"https://mymp3bhojpuri.in/files/download/type/128/id/31580\",\r\n    },\r\n  ]);\r\n\r\n  const [currentSongIndex, setCurrentSongIndex] = useState(0);\r\n  const [nextSongIndex, setNextSongIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setNextSongIndex(() => {\r\n      if (currentSongIndex + 1 > songs.length - 1) {\r\n        return 0;\r\n      } else {\r\n        return currentSongIndex + 1;\r\n      }\r\n    });\r\n  }, [currentSongIndex, songs.length]);\r\n\r\n  useEffect(() => {\r\n    const hash = getTokenFromUrl();\r\n    window.location.hash = \"\";\r\n    const _token = hash.access_token;\r\n\r\n    if (_token) {\r\n      dispatch({\r\n        type: \"SET_TOKEN\",\r\n        token: _token,\r\n      });\r\n\r\n      spotify.setAccessToken(_token);\r\n\r\n      spotify.getMe().then((user) => {\r\n        dispatch({\r\n          type: \"SET_USER\",\r\n          user: user,\r\n        });\r\n      });\r\n\r\n      spotify.getUserPlaylists().then((playlists) => {\r\n        dispatch({\r\n          type: \"SET_PLAYLISTS\",\r\n          playlists: playlists,\r\n        });\r\n      });\r\n\r\n      spotify.getPlaylist(\"37i9dQZEVXcRs0qwAs6M8N\").then((response) =>\r\n        dispatch({\r\n          type: \"SET_DISCOVER_WEEKLY\",\r\n          discover_weekly: response,\r\n        })\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {token ? (\r\n        <Player\r\n          currentSongIndex={currentSongIndex}\r\n          setCurrentSongIndex={setCurrentSongIndex}\r\n          nextSongIndex={nextSongIndex}\r\n          songs={songs}\r\n          spotify={spotify}\r\n        />\r\n      ) : (\r\n        <Login />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export const initialState = {\r\n  user: null,\r\n  playlists: [],\r\n  playing: false,\r\n  item: null,\r\n  // remove initial token after finished debugging...\r\n  // token:\r\n  //   \"BQBLNpWpxxq2Uc8195eQI-b5huK6KAQJp50mDNQlYhMFJzGmEfLm94kZsqyNm7ngu9W7WdbKYZg8FLesNKxNEoOMTqV82c-t7T2T7OHyCUgzp7D2qZudFJMi1kkLkBsuS7U3jTxmuO7TL_e3lb7gVEt0OwNrGM5dXBh9moD-pSgKqR51gfAGZzs4bNK6oL_GnFJczVemDMBZE4mhrg\",\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(action);\r\n\r\n  //Action -> type, [payload]\r\n\r\n  switch (action.type) {\r\n    case \"SET_USER\":\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n\r\n    case \"SET_TOKEN\":\r\n      return {\r\n        ...state,\r\n        token: action.token,\r\n      };\r\n\r\n    case \"SET_PLAYLISTS\":\r\n      return {\r\n        ...state,\r\n        playlists: action.playlists,\r\n      };\r\n\r\n    case \"SET_DISCOVER_WEEKLY\":\r\n      return {\r\n        ...state,\r\n        discover_weekly: action.discover_weekly,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { DataLayer } from \"./DataLayer\";\r\nimport reducer, { initialState } from \"./reducer\";\r\n\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <DataLayer initialState={initialState} reducer={reducer}>\r\n      <App />\r\n    </DataLayer>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}